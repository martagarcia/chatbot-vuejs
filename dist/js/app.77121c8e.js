(function(e){function t(t){for(var r,i,o=t[0],u=t[1],c=t[2],f=0,v=[];f<o.length;f++)i=o[f],s[i]&&v.push(s[i][0]),s[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(v.length)v.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==s[u]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},s={app:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"00b7":function(e,t,n){},1988:function(e,t,n){},"5c48":function(e,t,n){},"659a":function(e,t,n){"use strict";var r=n("00b7"),s=n.n(r);s.a},"7c55":function(e,t,n){"use strict";var r=n("5c48"),s=n.n(r);s.a},bb32:function(e,t,n){"use strict";var r=n("1988"),s=n.n(r);s.a},cd49:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}}),n("router-view")],1)},a=[],i=n("d225"),o=n("308d"),u=n("6bb5"),c=n("4e2b"),l=n("9ab4"),f=n("60a3"),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-info"},[n("h3",[e._v(e._s(e.title))]),n("p",[e._v("\n    Here, you can talk to YodaBot, an intelligent Bot who has learned to talk like Yoda.\n  ")])])},h=[],p=function(e){function t(){return Object(i["a"])(this,t),Object(o["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),t}(f["c"]);l["a"]([Object(f["b"])()],p.prototype,"title",void 0),p=l["a"]([f["a"]],p);var g=p,d=g,b=(n("659a"),n("2877")),m=Object(b["a"])(d,v,h,!1,null,"7f5ee025",null),y=m.exports,w=function(e){function t(){return Object(i["a"])(this,t),Object(o["a"])(this,Object(u["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),t}(f["c"]);w=l["a"]([Object(f["a"])({components:{TitleInfo:y}})],w);var k=w,j=k,_=(n("7c55"),Object(b["a"])(j,s,a,!1,null,null,null)),O=_.exports,x=n("8c4f"),S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("a",{staticClass:"input btn-form",on:{click:function(t){return e.clearConversation()}}},[e._v("Clear All")]),n("TitleInfo",{attrs:{title:"YodaBot"}}),n("div",{staticClass:"conversation-container"},[n("div",{attrs:{id:"conversation"}},[e.messages.length>0?n("ul",e._l(e.messages,function(t){return n("li",["answer"==t.type?n("span",[n("label",{staticClass:"bold yoda"},[e._v("YodaBot: ")]),e._v(e._s(t.message)+" \n          ")]):n("span",[n("label",{staticClass:"bold"},[e._v("Me: ")]),e._v(e._s(t.message)+" ")])])}),0):e._e()]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isWriting,expression:"isWriting"}],staticClass:"writing-msg",attrs:{id:"is-writing-msg"}},[e._v(" YodaBot is writing... ")]),n("form",{attrs:{id:"form-line"},on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.question,expression:"question"}],staticClass:"input text-form",attrs:{placeholder:"type something, young padawan...",disabled:e.isWriting},domProps:{value:e.question},on:{input:function(t){t.target.composing||(e.question=t.target.value)}}}),n("input",{staticClass:"input btn-form",attrs:{type:"submit",value:"Send!",disabled:e.isWriting||""==e.question}})])])],1)},I=[],T=n("f499"),C=n.n(T),A=(n("3846"),n("7f7f"),n("5d73")),R=n.n(A),M=(n("6762"),n("2fdb"),n("96cf"),n("3b8d")),P=n("b0b4"),q=n("cebc"),W=n("bc3a"),Y=n.n(W),E=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Object(i["a"])(this,e),this.accessToken=t,this.expiration=n,this.accessUrl=r},U={API_AUTH:"https://api.inbenta.io/v1/auth",API_URL:"https://api.inbenta.io/v1/apis",API_KEY:"nyUl7wzXoKtgoHnd2fB0uRrAv0dDyLC+b4Y6xngpJDY=",SECRET:"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJwcm9qZWN0IjoieW9kYV9jaGF0Ym90X2VuIn0.anf_eerFhoNq6J8b36_qbD4VqngX79-yyBKWih_eA1-HyaMe2skiJXkRNpyWxpjmpySYWzPGncwvlwz5ZRE7eg"},B=U,J="data",N="chatbot",z=function(){function e(){Object(i["a"])(this,e)}return Object(P["a"])(e,[{key:"getAccessToken",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark(function e(){var t,n,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={"x-inbenta-key":B.API_KEY,"Content-Type":"application/json"},n={secret:B.SECRET},e.next=4,Y.a.post(B.API_AUTH,n,{headers:t});case 4:return r=e.sent,s=new E,s.accessToken=String(r[J].accessToken),s.expiration=String(r[J].expiration),e.next=10,this.getApiUrl(s.accessToken);case 10:return s.accessUrl=e.sent,e.abrupt("return",s);case 12:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getApiUrl",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark(function e(t){var n,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n={"x-inbenta-key":B.API_KEY,Authorization:"Bearer "+String(t)},e.next=3,Y.a.get(B.API_URL,{headers:n});case 3:return r=e.sent,s=String(r[J].apis[N])+"/v1/conversation",e.abrupt("return",s);case 6:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getSessionToken",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark(function e(t,n){var r,s,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r={"x-inbenta-key":B.API_KEY,Authorization:"Bearer "+String(n)},e.next=3,Y.a.post(t,"",{headers:r});case 3:return s=e.sent,a=String(s[J].sessionToken),e.abrupt("return",a);case 6:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),H=new z,K=function(){function e(){var t=this;Object(i["a"])(this,e),this.conversation={get:function(){var e="conversation";return t._get(e)},sendMessage:function(e){var n="/message";return t._post(n,{message:e})}},this._setDefaultsHeaders()}return Object(P["a"])(e,[{key:"_setDefaultsHeaders",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,H.getAccessToken();case 2:return t=e.sent,e.next=5,H.getSessionToken(t.accessUrl,t.accessToken);case 5:n=e.sent,r={"x-inbenta-key":B.API_KEY,Authorization:"Bearer "+t.accessToken,"x-inbenta-session":"Bearer "+n,"Content-Type":"application/json"},this.options={headers:r},Y.a.defaults.baseURL=t.accessUrl;case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"_get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(q["a"])({},this.options),r="params";return n[r]=t,Y.a.get(e,n).then(function(e){return e.data})}},{key:"_post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Y.a.post(e,t,this.options).then(function(e){return e.data})}},{key:"_put",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Y.a.put(e,t,this.options).then(function(e){return e.data})}},{key:"_delete",value:function(e){return Y.a.delete(e,this.options).then(function(e){return e.data})}}]),e}(),D=new K,F="https://swapi.co/api/",X=function(){function e(){var t=this;Object(i["a"])(this,e),this.films={get:function(){var e="films/";return t._get(e)}},this.people={get:function(){var e="people/";return t._get(e)}}}return Object(P["a"])(e,[{key:"_get",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Y.a.get(F+e).then(function(e){return e.data})}}]),e}(),L=new X,V=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Object(i["a"])(this,e),this.message=t,this.flags=n,this.type=r},$="answers",G=function(e){function t(){var e;return Object(i["a"])(this,t),e=Object(o["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.isWriting=!1,e.question="",e.messages=[],e}return Object(c["a"])(t,e),Object(P["a"])(t,[{key:"submit",value:function(){var e=Object(M["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.isWriting=!0,t=new V(this.question,"-","question"),this.saveMessage(t),this.question.includes("force")?this.getMovies():this.sendMessage(this.question),this.question="";case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getMovies",value:function(){var e=this;L.films.get().then(function(t){var n=[],r=!0,s=!1,a=void 0;try{for(var i,o=R()(t["results"]);!(r=(i=o.next()).done);r=!0){var u=i.value;n.push(u.title)}}catch(f){s=!0,a=f}finally{try{r||null==o.return||o.return()}finally{if(s)throw a}}var c="The force is in this movies: "+n.join(", "),l=new V(c,"-","answer");e.saveMessage(l),e.isWriting=!1}).catch(function(e){console.log(e)})}},{key:"getRandomCharacters",value:function(){var e=this;L.people.get().then(function(t){var n=[],r=!0,s=!1,a=void 0;try{for(var i,o=R()(t["results"]);!(r=(i=o.next()).done);r=!0){var u=i.value;n.push(u.name)}}catch(f){s=!0,a=f}finally{try{r||null==o.return||o.return()}finally{if(s)throw a}}var c="I have not found any results. But here there is a list of some Star Wars characters: "+n.join(", "),l=new V(c,"-","answer");e.saveMessage(l),e.isWriting=!1}).catch(function(e){console.log(e)})}},{key:"sendMessage",value:function(e){var t=this;D.conversation.sendMessage(e).then(function(e){var n=e[$][0],r=n;t.validateConsecutives(r)?t.getRandomCharacters():(t.saveMessage(r),t.isWriting=!1)}).catch(function(e){console.log(e)})}},{key:"validateConsecutives",value:function(e){if(this.messages.length>=2){var t=this.messages[this.messages.length-2];if("no-results"==e.flags[0]&&"no-results"==t.flags[0])return!0}return!1}},{key:"getSessionInfo",value:function(){var e=sessionStorage.getItem("messages");return e?JSON.parse(e):(sessionStorage.setItem("messages",C()([])),[])}},{key:"saveMessage",value:function(e){this.messages.push(e);var t=this.getSessionInfo();t.push(e),sessionStorage.setItem("messages",C()(t))}},{key:"clearConversation",value:function(){sessionStorage.clear(),this.messages=[]}},{key:"mounted",value:function(){this.messages=this.getSessionInfo()}}]),t}(f["c"]);G=l["a"]([Object(f["a"])({components:{TitleInfo:y}})],G);var Z=G,Q=Z,ee=(n("bb32"),Object(b["a"])(Q,S,I,!1,null,"00852da5",null)),te=ee.exports;r["default"].use(x["a"]);var ne=new x["a"]({routes:[{path:"/",name:"home",component:te}]}),re=n("2f62");r["default"].use(re["a"]);var se=new re["a"].Store({state:{numNotFound:0},mutations:{increment:function(e){e.numNotFound++},reset:function(e){e.numNotFound=0}},actions:{}});r["default"].config.productionTip=!1,new r["default"]({router:ne,store:se,render:function(e){return e(O)}}).$mount("#app")}});
//# sourceMappingURL=app.77121c8e.js.map